<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Products</title>
    <!-- Include Bootstrap CSS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.min.js"></script>

    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="myProducts.css">
</head>

<body>

    <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top navbar-light bg-light">
        <div class="container-fluid">
          <button class="btn btn-primary-border" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling"><i class="fa fa-bars" aria-hidden="true"></i></button>
    
          <span class="navbar-text" style="margin-right: 20px;">
            <script>
              if (localStorage.getItem('currentUser') == null) {
                  document.write('<a class="btn" role="button" href="signup.html">Sign up</a>');
                  document.write('<a class="btn ms-4" role="button" href="login.html">Login</a>');
              }
              else {
                  document.write('<div class="dropdown">');
                  document.write('<a class="btn dropdown-toggle ms-4" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">Hello, ' + JSON.parse(localStorage.getItem('currentUser'))+ '</a>');
                  document.write('<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuLink">');
                  document.write('<li><a class="dropdown-item" href="cart.html">Cart</a></li>');
                  document.write('<li><a class="dropdown-item" href="myAccount.html">My Account</a></li>');
                  document.write('<li><a class="dropdown-item" href="#" onclick="displayAccountType()">Add Product</a></li>');
                  document.write('<li><hr class="dropdown-divider"></li>');
                  document.write('<li><a class="dropdown-item" onclick="logout()" >Logout</a></li>');
                  document.write('</ul>');
                  document.write('</div>');
              }
            </script>
          </span>
        </div>
      </nav>
    
      <div class="container-sm-1" style="padding: 0 4% 0 4%">
        
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
          <div class="offcanvas-header">
            <a class="navbar-brand mt-2" href="index.html"><h3>KnowledgeNest</h3></a>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body ml-4">
              <a href="categorias.html"><h5>Programming</h5></a>
              <h5 onclick="window.alert('Element Under Construction!')">Music</h5>
              <h5 onclick="window.alert('Element Under Construction!')">Dance</h5>
              <h5 onclick="window.alert('Element Under Construction!')">Fitness</h5>
            </div>
          </div>
        </div>
    

    <div class="container rounded bg-white mt-5 mb-5">
        <div class="row">
            <div class="col-md-3 border-right">
                <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                    <img class="rounded-circle mt-5" width="150px" src="https://static.vecteezy.com/system/resources/previews/008/442/086/non_2x/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg">
                    <span class="font-weight-bold"><script>document.write(JSON.parse(localStorage.getItem('currentUser')))</script></span>
                    <span class="text-black-50"><script>document.write(JSON.parse(localStorage.getItem('currentEmail')))</script></span>
                    <span></span>
                </div>
                <input type="text" id="descriptionInput" class="form-control text-center" placeholder="Add description">
                <hr style="padding: 1px;">  
                <h6 class="text-center"><a href="myAccount.html">Edit Profile</a></h6>
                
                <hr style="padding: 1px;">
                
                <script>
                    // JavaScript to style the input placeholder text
                    const input = document.getElementById('descriptionInput');
                    input.style.color = 'lightgray';
                </script>
                
            </div>
        </div>
        
        <ul>
            <div class="text-center">
                <h6 class="text-uppercase"><b class="text-center">My Products</b></h6>
                <ul id="1">Improve Your Communication Skills</ul>
                <ul id="2">The Science of Cooking</ul>
                <ul id="3">Piano Tutoring</ul>
                <ul id="4">Guitar Online Course</ul>
                <ul id="5">Python Crash Course (2nd Edition)</ul>
                <ul id="6">Cloud Native DevOps with Kubernetes</ul>
                <ul id="7">JavaScript from Beguinner to Advanced</ul>
                <ul id="8">Python Online Course</ul>
                <ul id="9">Data Science Online Course</ul>
                <ul id="10">Machine Learning E-Book</ul>
                <ul id="11">Web Development Online Course</ul>
                <ul id="12">Artificial Intelligence Basics</ul>
            </div>
        </ul>

            

        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.2/knockout-min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="script.js"></script>
    <script src="./authentication.js"></script>
    <script>
        // Obtém a lista de produtos do usuário do localStorage
        var userProducts = JSON.parse(localStorage.getItem('userProducts'));

        // Se userProducts for null (ou seja, não há itens no localStorage), define como um array vazio
        if (!userProducts) {
            userProducts = [];
        }

        // Mapeia userProducts para um array de IDs
        var userProductIds = userProducts.map(function(product) {
            return parseInt(product.id, 10);
        });

        // Seleciona todos os elementos ul
        var productElements = document.querySelectorAll('.text-center ul');

        // Itera sobre cada elemento ul
        productElements.forEach(function(ul) {
            // Obtém o ID do produto do atributo id
            var productId = parseInt(ul.id, 10);

            // Se o ID do produto não estiver em userProductIds, oculta o elemento ul
            if (userProductIds.indexOf(productId) === -1) {
                ul.style.display = 'none';
            }
        });
    </script>

</body>

</html>